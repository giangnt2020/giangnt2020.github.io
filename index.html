<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Tr√≤ ch∆°i Soccer Ball Runner - Nh·∫£y qua c√°c c·∫ßu th·ªß v√† ƒë·∫°t ƒëi·ªÉm cao nh·∫•t!">
  <meta name="keywords" content="game, soccer, b√≥ng ƒë√°, runner, HTML5 game">
  <meta name="author" content="GaConLonTon">

  <!-- Open Graph for social media preview -->
  <meta property="og:title" content="Soccer Ball Runner">
  <meta property="og:description" content="Th·ª≠ th√°ch nh·∫£y qua c√°c c·∫ßu th·ªß v√† ghi ƒëi·ªÉm cao!">
  <meta property="og:image" content="https://example.com/preview.png">
  <meta property="og:url" content="https://example.com">
  <meta property="og:type" content="website">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Soccer Ball Runner">
  <meta name="twitter:description" content="Tr√≤ ch∆°i th√∫ v·ªã gi√∫p b·∫°n ki·ªÉm tra k·ªπ nƒÉng ph·∫£n x·∫°!">
  <meta name="twitter:image" content="https://example.com/preview.png">

  <title>Soccer Ball Runner</title>
  <style>
      body {
          text-align: center;
          font-family: Arial, sans-serif;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
      }

      canvas {
          width: 100%;
          max-width: 800px;
          height: auto;
          aspect-ratio: 4 / 1;
          border: 1px solid #000;
      }

      #stats {
          margin-top: 10px;
          font-size: 1.2rem;
      }

      #instructions {
          margin-top: 10px;
          font-size: 1.2rem;
          color: #555;
      }

      #jumpBtn {
          font-size: 1.5rem;
          padding: 10px 20px;
          margin-top: 10px;
          background-color: #007BFF;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
      }
  </style>
</head>
<body>
<h1>Soccer Ball Runner</h1>
<p id="instructions">Nh·∫•n ph√≠m Space, ch·∫°m m√†n h√¨nh ho·∫∑c b·∫•m n√∫t ƒë·ªÉ nh·∫£y!</p>
<canvas id="gameCanvas"></canvas>
<div id="stats">L∆∞·ª£t ch∆°i: 0 | ƒêi·ªÉm cao nh·∫•t: 0 | ƒêi·ªÉm hi·ªán t·∫°i: 0</div>
<button id="jumpBtn">Nh·∫£y</button>

<script>
	const canvas = document.getElementById("gameCanvas");
	const ctx = canvas.getContext("2d");
	const stats = document.getElementById("stats");

	// ƒê·ªãnh nghƒ©a k√≠ch th∆∞·ªõc canvas theo m√†n h√¨nh
	canvas.width = window.innerWidth > 800 ? 800 : window.innerWidth - 20;
	canvas.height = 200;

	const playerTypes = ["‚öΩ", "ü•é", "üèÄ", "üèà", "üéæ"];
	let player = { x: 50, y: 160, width: 20, height: 20, dy: 0, gravity: 0.5, jumpPower: -10, jumpCount: 0, maxJumps: 2, icon: playerTypes[Math.floor(Math.random() * playerTypes.length)] };

	let obstacles = [];
	let frame = 0;
	let score = 0;
	let gameRunning = true;
	let obstacleSpeed = 5;
	let playCount = localStorage.getItem("playCount") || 0;
	let highScore = localStorage.getItem("highScore") || 0;
	const obstacleIcons = ["üèÉ", "ü§æ", "üèåÔ∏è", "ü•Ö", "ü§∏", "üö¥", "üèä", "‚õπÔ∏è", "üèÇ"];

	function updateStats() {
		stats.textContent = `L∆∞·ª£t ch∆°i: ${playCount} | ƒêi·ªÉm cao nh·∫•t: ${highScore} | ƒêi·ªÉm hi·ªán t·∫°i: ${score}`;
	}

	function drawPlayer() {
		ctx.font = "20px Arial";
		ctx.fillText(player.icon, player.x, player.y + player.height);
	}

	function drawObstacles() {
		ctx.font = "40px Arial";
		obstacles.forEach(obs => ctx.fillText(obs.icon, obs.x, obs.y + obs.height));
	}

	function updateObstacles() {
		if (frame % Math.max(50, 100 - Math.floor(score / 10)) === 0) {
			let fontSize = 40;
			let icon = obstacleIcons[Math.floor(Math.random() * obstacleIcons.length)];
			obstacles.push({ x: canvas.width, y: 170 - fontSize, width: fontSize, height: fontSize, icon: icon });
		}
		obstacles.forEach(obs => obs.x -= obstacleSpeed);
		obstacles = obstacles.filter(obs => obs.x + obs.width > 0);
	}

	function updatePlayer() {
		player.y += player.dy;
		player.dy += player.gravity;
		if (player.y >= 160) {
			player.y = 160;
			player.jumpCount = 0;
		}
	}

	function checkCollision() {
		obstacles.forEach(obs => {
			if (player.x < obs.x + obs.width && player.x + player.width > obs.x &&
				player.y < obs.y + obs.height && player.y + player.height > obs.y) {
				gameRunning = false;
			}
		});
	}

	function gameLoop() {
		if (!gameRunning) {
			playCount++;
			localStorage.setItem("playCount", playCount);
			if (score > highScore) {
				highScore = score;
				localStorage.setItem("highScore", highScore);
			}
			updateStats();
			alert("Game Over! Score: " + score);
			document.location.reload();
			return;
		}
		frame++;
		score++;
		obstacleSpeed = 5 + Math.floor(score / 100);
		ctx.clearRect(0, 0, canvas.width, canvas.height);
		drawPlayer();
		drawObstacles();
		updateObstacles();
		updatePlayer();
		checkCollision();
		updateStats();
		requestAnimationFrame(gameLoop);
	}

	function jump() {
		if (player.jumpCount < player.maxJumps) {
			player.dy = player.jumpPower;
			player.jumpCount++;
		}
	}

	document.addEventListener("keydown", (e) => { if (e.code === "Space") jump(); });
	document.addEventListener("click", jump);
	document.getElementById("jumpBtn").addEventListener("click", jump);
	document.addEventListener("touchstart", jump);

	// T·ª± ƒë·ªông b·∫≠t to√†n m√†n h√¨nh khi click
	document.addEventListener("click", () => {
		if (!document.fullscreenElement) {
			document.documentElement.requestFullscreen().catch(err => console.log(err));
		}
	});

	updateStats();
	gameLoop();
</script>
</body>
</html>